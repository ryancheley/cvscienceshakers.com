{% extends "base.html" %}

{% block title %}{{ article.title }} - {{ SITENAME }}{% endblock %}

{% block description %}{% if article.summary %}{{ article.summary|striptags|truncate(150) }}{% else %}{{ SITESUBTITLE }}{% endif %}{% endblock %}

{% block content %}
<div id="article-wrap" class="hgrid-stretch">

    <main id="content" class="content no-sidebar layout-none" role="main">

        <div class="hgrid main-content-grid">
            <div class="content hgrid-span-12 no-sidebar layout-full-width">
                <div id="content-wrap">

                    <article id="article-{{ article.slug }}" class="entry article">

                        <header class="entry-header">
                            {% if article.category %}
                            <div class="cat-label">
                                <a href="{{ SITEURL }}/{{ article.category.url }}">{{ article.category }}</a>
                            </div>
                            {% endif %}

                            <h1 class="entry-title">{{ article.title }}</h1>

                            <div class="entry-meta">
                                <time class="published" datetime="{{ article.date.isoformat() }}">
                                    {{ article.locale_date }}
                                </time>
                                {% if article.modified %}
                                <time class="modified" datetime="{{ article.modified.isoformat() }}">
                                    Updated: {{ article.locale_modified }}
                                </time>
                                {% endif %}
                                {% if article.author %}
                                <div class="entry-byline">
                                    <span class="byline">by <span class="author">{{ article.author }}</span></span>
                                </div>
                                {% endif %}
                            </div>
                        </header>

                        <div class="entry-content">
                            <div class="entry-the-content">
                                {{ article.content }}
                            </div>
                        </div><!-- .entry-content -->

                        <footer class="entry-footer">
                            {% if article.tags %}
                            <div class="entry-tags">
                                <span class="tags-label">Tags:</span>
                                {% for tag in article.tags %}
                                <a href="{{ SITEURL }}/{{ tag.url }}" rel="tag">{{ tag }}</a>{% if not loop.last %}, {% endif %}
                                {% endfor %}
                            </div>
                            {% endif %}

                            <!-- Social sharing could go here -->
                        </footer>

                    </article><!-- .entry -->

                    <!-- Navigation between articles -->
                    {% if article.prev_article or article.next_article %}
                    <nav class="post-navigation">
                        <div class="nav-links">
                            {% if article.prev_article %}
                            <div class="nav-previous">
                                <a href="{{ SITEURL }}/{{ article.prev_article.url }}" rel="prev">
                                    <span class="meta-nav">&larr; Previous</span>
                                    <span class="post-title">{{ article.prev_article.title }}</span>
                                </a>
                            </div>
                            {% endif %}
                            {% if article.next_article %}
                            <div class="nav-next">
                                <a href="{{ SITEURL }}/{{ article.next_article.url }}" rel="next">
                                    <span class="meta-nav">Next &rarr;</span>
                                    <span class="post-title">{{ article.next_article.title }}</span>
                                </a>
                            </div>
                            {% endif %}
                        </div>
                    </nav>
                    {% endif %}

                </div><!-- #content-wrap -->
            </div><!-- #content -->
        </div><!-- .main-content-grid -->

    </main><!-- #content -->

</div><!-- .hgrid -->
{% endblock %}
